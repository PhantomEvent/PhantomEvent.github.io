[{"isloop": false, "loop_info": [], "modifier": ["onlyBurnAdmin"], "vars": {"_enqueueGasCost": "uint256", "_l2GasDiscountDivisor": "uint256", "enqueueGasCost": "uint256", "enqueueL2GasPrepaid": "uint256", "l2GasDiscountDivisor": "uint256"}, "info": ["CanonicalTransactionChain", "setGasParams", "L2GasParamsUpdated", ["l2GasDiscountDivisor--variables", "enqueueGasCost--variables", "enqueueL2GasPrepaid--variables"]], "related_expression": ["enqueueGasCost=_enqueueGasCost", "l2GasDiscountDivisor=_l2GasDiscountDivisor", "enqueueL2GasPrepaid=_l2GasDiscountDivisor*_enqueueGasCost"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_="]}, {"isloop": true, "loop_info": [9, 14], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "DEFAULT_CHAINID": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatch", "SequencerBatchAppended", ["TMP_50--variables", "numQueuedTransactions--variables", "TMP_51--variables", "DEFAULT_CHAINID--variables"]], "related_expression": ["totalElementsToAppend=calldataload(uint256)(9)>>232", "numContexts=calldataload(uint256)(12)>>232", "shouldStartAtElement==getTotalElements()", "msg.sender==resolve(OVM_Sequencer)", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "numSequencerTransactions=0", "nextQueueIndex=_nextQueueIndex[DEFAULT_CHAINID]", "i=0", "nextContext=_getBatchContext(i)", "curContext=nextContext", "numSequencerTransactions+=uint32(curContext.numSequencedTransactions)", "nextQueueIndex+=uint40(curContext.numSubsequentQueueTransactions)", "i++", "i<numContexts", "nextQueueIndex<=queueElements[DEFAULT_CHAINID].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "curContext.numSubsequentQueueTransactions==0", "blockTimestamp=uint40(curContext.timestamp)", "blockNumber=uint40(curContext.blockNumber)", "_appendBatch(blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_+=", "AssignmentOperation_+=", "Expression", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "CallExpression"]}, {"isloop": true, "loop_info": [9, 9], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "DEFAULT_CHAINID": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatch", "SequencerBatchAppended", ["TMP_50--variables", "numQueuedTransactions--variables", "TMP_51--variables", "DEFAULT_CHAINID--variables"]], "related_expression": ["totalElementsToAppend=calldataload(uint256)(9)>>232", "numContexts=calldataload(uint256)(12)>>232", "shouldStartAtElement==getTotalElements()", "msg.sender==resolve(OVM_Sequencer)", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "numSequencerTransactions=0", "nextQueueIndex=_nextQueueIndex[DEFAULT_CHAINID]", "i=0", "not(i<numContexts)", "nextQueueIndex<=queueElements[DEFAULT_CHAINID].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "curContext.numSubsequentQueueTransactions==0", "blockTimestamp=uint40(curContext.timestamp)", "blockNumber=uint40(curContext.blockNumber)", "_appendBatch(blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "CallExpression"]}, {"isloop": true, "loop_info": [9, 14], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "DEFAULT_CHAINID": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatch", "SequencerBatchAppended", ["TMP_50--variables", "numQueuedTransactions--variables", "TMP_51--variables", "DEFAULT_CHAINID--variables"]], "related_expression": ["totalElementsToAppend=calldataload(uint256)(9)>>232", "numContexts=calldataload(uint256)(12)>>232", "shouldStartAtElement==getTotalElements()", "msg.sender==resolve(OVM_Sequencer)", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "numSequencerTransactions=0", "nextQueueIndex=_nextQueueIndex[DEFAULT_CHAINID]", "i=0", "nextContext=_getBatchContext(i)", "curContext=nextContext", "numSequencerTransactions+=uint32(curContext.numSequencedTransactions)", "nextQueueIndex+=uint40(curContext.numSubsequentQueueTransactions)", "i++", "i<numContexts", "nextQueueIndex<=queueElements[DEFAULT_CHAINID].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "not(curContext.numSubsequentQueueTransactions==0)", "lastElement=queueElements[DEFAULT_CHAINID][nextQueueIndex-1]", "_appendBatch(blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_+=", "AssignmentOperation_+=", "Expression", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "CallExpression"]}, {"isloop": true, "loop_info": [9, 9], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "DEFAULT_CHAINID": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatch", "SequencerBatchAppended", ["TMP_50--variables", "numQueuedTransactions--variables", "TMP_51--variables", "DEFAULT_CHAINID--variables"]], "related_expression": ["totalElementsToAppend=calldataload(uint256)(9)>>232", "numContexts=calldataload(uint256)(12)>>232", "shouldStartAtElement==getTotalElements()", "msg.sender==resolve(OVM_Sequencer)", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "numSequencerTransactions=0", "nextQueueIndex=_nextQueueIndex[DEFAULT_CHAINID]", "i=0", "not(i<numContexts)", "nextQueueIndex<=queueElements[DEFAULT_CHAINID].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "not(curContext.numSubsequentQueueTransactions==0)", "lastElement=queueElements[DEFAULT_CHAINID][nextQueueIndex-1]", "_appendBatch(blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "CallExpression"]}, {"isloop": false, "loop_info": [], "modifier": [], "vars": {"DEFAULT_CHAINID": "uint256", "_batchSize": "uint256", "_blockNumber": "uint40", "_numQueuedTransactions": "uint256", "_timestamp": "uint40", "_transactionRoot": "bytes32", "batchHeaderHash": "bytes32", "batchesRef": "IChainStorageContainer", "header": "Lib_OVMCodec.ChainBatchHeader", "latestBatchContext": "bytes27", "nextQueueIndex": "uint40", "totalElements": "uint40"}, "info": ["CanonicalTransactionChain", "_appendBatch", "TransactionBatchAppended", ["DEFAULT_CHAINID--variables", "header_element--variables", "header_element--variables", "header_element--variables", "header_element--variables", "header_element--variables"]], "related_expression": ["batchesRef=batches()", "(totalElements,nextQueueIndex)=_getBatchExtraData()", "header=Lib_OVMCodec.ChainBatchHeader({batchIndex:batchesRef.length(),batchRoot:_transactionRoot,batchSize:_batchSize,prevTotalElements:totalElements,extraData:})"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_="]}, {"isloop": false, "loop_info": [], "modifier": [], "vars": {"MAX_ROLLUP_TX_SIZE": "uint256", "MIN_ROLLUP_TX_GAS": "uint256", "_chainId": "uint256", "_data": "bytes", "_gasLimit": "uint256", "_target": "address", "block.number": "uint256", "block.timestamp": "uint256", "maxTransactionGasLimit": "uint256", "msg.sender": "address", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "queueIndex": "uint256", "sender": "address", "transactionHash": "bytes32", "tx.origin": "address"}, "info": ["CanonicalTransactionChain", "enqueueByChainId", "TransactionEnqueued", ["_chainId--variables", "sender--variables", "_target--variables", "_gasLimit--variables", "_data--variables", "queueIndex--variables", "block.timestamp--variables"]], "related_expression": ["msg.sender==resolve(Proxy__OVM_L1CrossDomainMessenger)", "_data.length<=MAX_ROLLUP_TX_SIZE", "_gasLimit<=maxTransactionGasLimit", "_gasLimit>=MIN_ROLLUP_TX_GAS", "msg.sender==tx.origin", "sender=msg.sender", "transactionHash=keccak256(bytes)(abi.encode(sender,_target,_gasLimit,_data))", "queueElements[_chainId].push(Lib_OVMCodec.QueueElement({transactionHash:transactionHash,timestamp:uint40(block.timestamp),blockNumber:uint40(block.number)}))", "queueIndex=queueElements[_chainId].length-1"], "related_expression_type": ["Condition", "Condition", "Condition", "Condition", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "CallExpression", "AssignmentOperation_="]}, {"isloop": false, "loop_info": [], "modifier": [], "vars": {"MAX_ROLLUP_TX_SIZE": "uint256", "MIN_ROLLUP_TX_GAS": "uint256", "_chainId": "uint256", "_data": "bytes", "_gasLimit": "uint256", "_target": "address", "block.number": "uint256", "block.timestamp": "uint256", "maxTransactionGasLimit": "uint256", "msg.sender": "address", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "queueIndex": "uint256", "sender": "address", "transactionHash": "bytes32", "tx.origin": "address"}, "info": ["CanonicalTransactionChain", "enqueueByChainId", "TransactionEnqueued", ["_chainId--variables", "sender--variables", "_target--variables", "_gasLimit--variables", "_data--variables", "queueIndex--variables", "block.timestamp--variables"]], "related_expression": ["msg.sender==resolve(Proxy__OVM_L1CrossDomainMessenger)", "_data.length<=MAX_ROLLUP_TX_SIZE", "_gasLimit<=maxTransactionGasLimit", "_gasLimit>=MIN_ROLLUP_TX_GAS", "not(msg.sender==tx.origin)", "sender=AddressAliasHelper.applyL1ToL2Alias(msg.sender)", "transactionHash=keccak256(bytes)(abi.encode(sender,_target,_gasLimit,_data))", "queueElements[_chainId].push(Lib_OVMCodec.QueueElement({transactionHash:transactionHash,timestamp:uint40(block.timestamp),blockNumber:uint40(block.number)}))", "queueIndex=queueElements[_chainId].length-1"], "related_expression_type": ["Condition", "Condition", "Condition", "Condition", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "CallExpression", "AssignmentOperation_="]}, {"isloop": true, "loop_info": [12, 17], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "_chainId": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatchByChainId", "SequencerBatchAppended", ["_chainId--variables", "TMP_176--variables", "numQueuedTransactions--variables", "TMP_177--variables"]], "related_expression": ["_chainId=calldataload(uint256)(4)", "totalElementsToAppend=calldataload(uint256)(41)>>232", "numContexts=calldataload(uint256)(44)>>232", "shouldStartAtElement==getTotalElementsByChainId(_chainId)", "msg.sender==resolve(string(abi.encodePacked(uint2str(_chainId),_MVM_Sequencer)))", "numContexts>0", "totalElementsToAppend>0", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "nextQueueIndex=_nextQueueIndex[_chainId]", "numSequencerTransactions=0", "i=0", "numSequencerTransactions+=uint32(curContext.numSequencedTransactions)", "nextQueueIndex+=uint40(curContext.numSubsequentQueueTransactions)", "i++", "i<numContexts", "nextContext=_getBatchContextByChainId(0,_chainId,i)", "curContext=nextContext", "nextQueueIndex<=queueElements[_chainId].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "curContext.numSubsequentQueueTransactions==0", "blockTimestamp=uint40(curContext.timestamp)", "blockNumber=uint40(curContext.blockNumber)", "_appendBatchByChainId(_chainId,blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_+=", "AssignmentOperation_+=", "Expression", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "CallExpression"]}, {"isloop": true, "loop_info": [12, 12], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "_chainId": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatchByChainId", "SequencerBatchAppended", ["_chainId--variables", "TMP_176--variables", "numQueuedTransactions--variables", "TMP_177--variables"]], "related_expression": ["_chainId=calldataload(uint256)(4)", "totalElementsToAppend=calldataload(uint256)(41)>>232", "numContexts=calldataload(uint256)(44)>>232", "shouldStartAtElement==getTotalElementsByChainId(_chainId)", "msg.sender==resolve(string(abi.encodePacked(uint2str(_chainId),_MVM_Sequencer)))", "numContexts>0", "totalElementsToAppend>0", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "nextQueueIndex=_nextQueueIndex[_chainId]", "numSequencerTransactions=0", "i=0", "not(i<numContexts)", "nextQueueIndex<=queueElements[_chainId].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "curContext.numSubsequentQueueTransactions==0", "blockTimestamp=uint40(curContext.timestamp)", "blockNumber=uint40(curContext.blockNumber)", "_appendBatchByChainId(_chainId,blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "CallExpression"]}, {"isloop": true, "loop_info": [12, 17], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "_chainId": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatchByChainId", "SequencerBatchAppended", ["_chainId--variables", "TMP_176--variables", "numQueuedTransactions--variables", "TMP_177--variables"]], "related_expression": ["_chainId=calldataload(uint256)(4)", "totalElementsToAppend=calldataload(uint256)(41)>>232", "numContexts=calldataload(uint256)(44)>>232", "shouldStartAtElement==getTotalElementsByChainId(_chainId)", "msg.sender==resolve(string(abi.encodePacked(uint2str(_chainId),_MVM_Sequencer)))", "numContexts>0", "totalElementsToAppend>0", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "nextQueueIndex=_nextQueueIndex[_chainId]", "numSequencerTransactions=0", "i=0", "numSequencerTransactions+=uint32(curContext.numSequencedTransactions)", "nextQueueIndex+=uint40(curContext.numSubsequentQueueTransactions)", "i++", "i<numContexts", "nextContext=_getBatchContextByChainId(0,_chainId,i)", "curContext=nextContext", "nextQueueIndex<=queueElements[_chainId].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "not(curContext.numSubsequentQueueTransactions==0)", "lastElement=queueElements[_chainId][nextQueueIndex-1]", "_appendBatchByChainId(_chainId,blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_+=", "AssignmentOperation_+=", "Expression", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "CallExpression"]}, {"isloop": true, "loop_info": [12, 12], "modifier": [], "vars": {"BATCH_CONTEXT_SIZE": "uint256", "BATCH_CONTEXT_START_POS": "uint256", "_chainId": "uint256", "_nextQueueIndex": "mapping(uint256 => uint40)", "block.number": "uint256", "blockNumber": "uint40", "blockTimestamp": "uint40", "curContext": "ICanonicalTransactionChain.BatchContext", "i": "uint32", "lastElement": "Lib_OVMCodec.QueueElement", "msg.data": "bytes", "msg.sender": "address", "nextContext": "ICanonicalTransactionChain.BatchContext", "nextQueueIndex": "uint40", "nextTransactionPtr": "uint40", "numContexts": "uint24", "numQueuedTransactions": "uint40", "numSequencerTransactions": "uint32", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])", "shouldStartAtElement": "uint40", "totalElementsToAppend": "uint24"}, "info": ["CanonicalTransactionChain", "appendSequencerBatchByChainId", "SequencerBatchAppended", ["_chainId--variables", "TMP_176--variables", "numQueuedTransactions--variables", "TMP_177--variables"]], "related_expression": ["_chainId=calldataload(uint256)(4)", "totalElementsToAppend=calldataload(uint256)(41)>>232", "numContexts=calldataload(uint256)(44)>>232", "shouldStartAtElement==getTotalElementsByChainId(_chainId)", "msg.sender==resolve(string(abi.encodePacked(uint2str(_chainId),_MVM_Sequencer)))", "numContexts>0", "totalElementsToAppend>0", "nextTransactionPtr=uint40(BATCH_CONTEXT_START_POS+BATCH_CONTEXT_SIZE*numContexts)", "msg.data.length>=nextTransactionPtr", "nextQueueIndex=_nextQueueIndex[_chainId]", "numSequencerTransactions=0", "i=0", "not(i<numContexts)", "nextQueueIndex<=queueElements[_chainId].length", "numQueuedTransactions=totalElementsToAppend-numSequencerTransactions", "not(curContext.numSubsequentQueueTransactions==0)", "lastElement=queueElements[_chainId][nextQueueIndex-1]", "_appendBatchByChainId(_chainId,blockhash(uint256)(block.number-1),totalElementsToAppend,numQueuedTransactions,blockTimestamp,blockNumber)"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_=", "Condition", "Condition", "AssignmentOperation_=", "Condition", "AssignmentOperation_=", "CallExpression"]}, {"isloop": false, "loop_info": [], "modifier": [], "vars": {"_batchSize": "uint256", "_blockNumber": "uint40", "_chainId": "uint256", "_numQueuedTransactions": "uint256", "_timestamp": "uint40", "_transactionRoot": "bytes32", "batchHeaderHash": "bytes32", "batchesRef": "IChainStorageContainer", "header": "Lib_OVMCodec.ChainBatchHeader", "latestBatchContext": "bytes27", "nextQueueIndex": "uint40", "totalElements": "uint40"}, "info": ["CanonicalTransactionChain", "_appendBatchByChainId", "TransactionBatchAppended", ["_chainId--variables", "header_element--variables", "header_element--variables", "header_element--variables", "header_element--variables", "header_element--variables"]], "related_expression": ["batchesRef=batches()", "(totalElements,nextQueueIndex)=_getBatchExtraDataByChainId(_chainId)", "header=Lib_OVMCodec.ChainBatchHeader({batchIndex:batchesRef.lengthByChainId(_chainId),batchRoot:_transactionRoot,batchSize:_batchSize,prevTotalElements:totalElements,extraData:})"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_="]}, {"isloop": false, "loop_info": [], "modifier": ["onlyManager"], "vars": {"_chainId": "uint256", "_object": "Lib_OVMCodec.QueueElement", "msg.sender": "address", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])"}, "info": ["CanonicalTransactionChain", "pushQueueByChainId", "QueuePushed", ["msg.sender--variables", "_chainId--variables", "_object--variables"]], "related_expression": ["queueElements[_chainId].push(_object)"], "related_expression_type": ["CallExpression"]}, {"isloop": false, "loop_info": [], "modifier": ["onlyManager"], "vars": {"_chainId": "uint256", "_index": "uint256", "_object": "Lib_OVMCodec.QueueElement", "msg.sender": "address", "queueElements": "mapping(uint256 => Lib_OVMCodec.QueueElement[])"}, "info": ["CanonicalTransactionChain", "setQueueByChainId", "QueueSetted", ["msg.sender--variables", "_chainId--variables", "_index--variables", "_object--variables"]], "related_expression": ["queueElements[_chainId][_index]=_object"], "related_expression_type": ["AssignmentOperation_="]}, {"isloop": false, "loop_info": [], "modifier": ["onlyManager"], "vars": {"_chainId": "uint256", "_globalMetadata": "bytes27", "msg.sender": "address"}, "info": ["CanonicalTransactionChain", "setBatchGlobalMetadataByChainId", "BatchesGlobalMetadataSet", ["msg.sender--variables", "_chainId--variables", "_globalMetadata--variables"]], "related_expression": ["batches().setGlobalMetadataByChainId(_chainId,_globalMetadata)"], "related_expression_type": ["CallExpression"]}, {"isloop": false, "loop_info": [], "modifier": ["onlyManager"], "vars": {"_chainId": "uint256", "_globalMetadata": "bytes27", "_object": "bytes32", "msg.sender": "address"}, "info": ["CanonicalTransactionChain", "pushBatchByChainId", "BatchPushed", ["msg.sender--variables", "_chainId--variables", "_object--variables", "_globalMetadata--variables"]], "related_expression": ["batches().pushByChainId(_chainId,_object,_globalMetadata)"], "related_expression_type": ["CallExpression"]}, {"isloop": false, "loop_info": [], "modifier": ["onlyManager"], "vars": {"_chainId": "uint256", "_index": "uint256", "_object": "bytes32", "msg.sender": "address"}, "info": ["CanonicalTransactionChain", "setBatchByChainId", "BatchSetted", ["msg.sender--variables", "_chainId--variables", "_index--variables", "_object--variables"]], "related_expression": ["batches().setByChainId(_chainId,_index,_object)"], "related_expression_type": ["CallExpression"]}, {"isloop": false, "loop_info": [], "modifier": ["onlyManager"], "vars": {"_chainId": "uint256", "_globalMetadata": "bytes27", "_index": "uint256", "msg.sender": "address"}, "info": ["CanonicalTransactionChain", "deleteBatchElementsAfterInclusiveByChainId", "BatchElementDeleted", ["msg.sender--variables", "_chainId--variables", "_index--variables", "_globalMetadata--variables"]], "related_expression": ["batches().deleteElementsAfterInclusiveByChainId(_chainId,_index,_globalMetadata)"], "related_expression_type": ["CallExpression"]}, {"isloop": false, "loop_info": [], "modifier": [], "vars": {"_owner": "address", "newOwner": "address", "oldOwner": "address"}, "info": ["Lib_AddressManager", "_setOwner", "OwnershipTransferred", ["oldOwner--variables", "newOwner--variables"]], "related_expression": ["oldOwner=_owner", "_owner=newOwner"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_="]}, {"isloop": false, "loop_info": [], "modifier": ["onlyOwner"], "vars": {"_address": "address", "_name": "string", "addresses": "mapping(bytes32 => address)", "nameHash": "bytes32", "oldAddress": "address"}, "info": ["Lib_AddressManager", "setAddress", "AddressSet", ["_name--variables", "_address--variables", "oldAddress--variables"]], "related_expression": ["nameHash=_getNameHash(_name)", "oldAddress=addresses[nameHash]", "addresses[nameHash]=_address"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_=", "AssignmentOperation_="]}, {"isloop": false, "loop_info": [], "modifier": [], "vars": {"_owner": "address", "newOwner": "address", "oldOwner": "address"}, "info": ["Ownable", "_setOwner", "OwnershipTransferred", ["oldOwner--variables", "newOwner--variables"]], "related_expression": ["oldOwner=_owner", "_owner=newOwner"], "related_expression_type": ["AssignmentOperation_=", "AssignmentOperation_="]}]